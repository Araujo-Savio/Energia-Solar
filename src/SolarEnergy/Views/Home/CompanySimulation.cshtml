@{
    ViewData["Title"] = "Simulador Técnico";
}

<div class="solar-page">
    <div class="container-fluid px-4">
        <div class="solar-page-header d-flex flex-wrap justify-content-between align-items-center mb-4">
            <div>
                <span class="badge bg-status-alert mb-2">Simulador para Empresas</span>
                <h1 class="solar-page-title mb-0">Simulador Técnico</h1>
                <p class="solar-page-subtitle mb-0">Centralize dados técnicos para gerar dimensionamentos e propostas profissionais.</p>
            </div>
            <div class="d-flex gap-2 flex-wrap">
                <button class="btn btn-outline-solar-orange">
                    <i class="fas fa-file-export me-2"></i>Exportar planilha
                </button>
                <button class="btn btn-solar-orange">
                    <i class="fas fa-share-alt me-2"></i>Compartilhar com cliente
                </button>
            </div>
        </div>

        <div class="row g-4 align-items-stretch mb-4">
            <div class="col-xxl-8">
                <div class="solar-card h-100">
                    <div class="simulator-card-body">
                        <h5 class="solar-card-title">Levantamento dos dados</h5>
                        <p class="text-muted small">Considere histórico mínimo de 12 meses para estimativas de produção.</p>
                        <div class="simulator-form-grid technical">
                            <div>
                                <label class="form-label">Histórico de consumo (kWh)</label>
                                <input type="number" class="form-control" value="58200">
                            </div>
                            <div>
                                <label class="form-label">Tarifa média (R$/kWh)</label>
                                <input type="number" class="form-control" value="0.55">
                            </div>
                            <div>
                                <label class="form-label">Tarifa TUSD (R$/kWh)</label>
                                <input type="number" class="form-control" value="0.38">
                            </div>
                            <div>
                                <label class="form-label">Impostos e bandeiras (%)</label>
                                <input type="number" class="form-control" value="26">
                            </div>
                            <div>
                                <label class="form-label">Demanda contratada (kW)</label>
                                <input type="number" class="form-control" value="180">
                            </div>
                            <div>
                                <label class="form-label">Tipo de ligação</label>
                                <select class="form-select">
                                    <option>Trifásico</option>
                                    <option>Bifásico</option>
                                    <option>Monofásico</option>
                                </select>
                            </div>
                            <div>
                                <label class="form-label">Tipo de conexão</label>
                                <select class="form-select">
                                    <option>Autoconsumo remoto</option>
                                    <option>Geração junto à carga</option>
                                    <option>Geração compartilhada</option>
                                </select>
                            </div>
                            <div>
                                <label class="form-label">Unidade consumidora</label>
                                <select class="form-select">
                                    <option>Matriz</option>
                                    <option>Filial Norte</option>
                                    <option>Filial Sul</option>
                                </select>
                            </div>
                            <div>
                                <label class="form-label">Área disponível (m²)</label>
                                <input type="number" class="form-control" value="1250">
                            </div>
                            <div>
                                <label class="form-label">Sombreamentos relevantes</label>
                                <select class="form-select">
                                    <option>Baixo</option>
                                    <option>Médio</option>
                                    <option>Alto</option>
                                </select>
                            </div>
                            <div>
                                <label class="form-label">Inclinação / orientação</label>
                                <select class="form-select">
                                    <option>Ideal (norte)</option>
                                    <option>Leste</option>
                                    <option>Oeste</option>
                                </select>
                            </div>
                            <div>
                                <label class="form-label">Prazo desejado de retorno (anos)</label>
                                <input type="number" class="form-control" value="5">
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center flex-wrap gap-3 mt-4">
                            <div class="simulator-badge">
                                <span class="label">Potência estimada</span>
                                <strong class="value">162 kWp</strong>
                            </div>
                            <div class="simulator-badge">
                                <span class="label">Área necessária</span>
                                <strong class="value">810 m²</strong>
                            </div>
                            <div class="simulator-badge">
                                <span class="label">Economia anual</span>
                                <strong class="value">R$ 312.500</strong>
                            </div>
                            <button class="btn btn-outline-solar-orange">
                                <i class="fas fa-bolt me-2"></i>Gerar dimensionamento
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xxl-4">
                <div class="solar-card h-100">
                    <div class="simulator-summary">
                        <div class="d-flex justify-content-between align-items-start mb-3">
                            <div>
                                <h5 class="solar-card-title mb-1">Resumo do dimensionamento</h5>
                                <p class="text-muted small mb-0">Utilize estes dados para montar propostas personalizadas.</p>
                            </div>
                            <span class="badge bg-status-warning">Prévia</span>
                        </div>
                        <div class="simulator-summary-grid">
                            <div>
                                <span class="label">Potência recomendada</span>
                                <strong class="value">162 kWp</strong>
                                <span class="trend text-muted">Produção anual 259 MWh</span>
                            </div>
                            <div>
                                <span class="label">Número de módulos</span>
                                <strong class="value">360 unidades</strong>
                                <span class="trend text-muted">Módulos 450W</span>
                            </div>
                            <div>
                                <span class="label">Inversores sugeridos</span>
                                <strong class="value">6 x 27 kW</strong>
                                <span class="trend text-muted">Rendimento médio 98%</span>
                            </div>
                            <div>
                                <span class="label">Geração mensal</span>
                                <strong class="value">21,6 MWh</strong>
                                <span class="trend text-success"><i class="fas fa-arrow-up me-1"></i>Supre 118% da demanda</span>
                            </div>
                        </div>
                        <div class="simulator-summary-footer">
                            <div class="d-flex align-items-center gap-3">
                                <i class="fas fa-file-signature text-solar-orange"></i>
                                <span class="small text-muted">Adicione dados financeiros para gerar a proposta completa.</span>
                            </div>
                            <a href="#" class="simulator-link">Baixar planilha detalhada</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-4 mb-4">
            <div class="col-xl-4">
                <div class="solar-card h-100">
                    <h5 class="solar-card-title">Custos do projeto</h5>
                    <div class="simulator-stats-grid">
                        <div>
                            <span class="label">Investimento total</span>
                            <strong class="value">R$ 1.280.000</strong>
                            <span class="caption text-muted">Inclui engenharia e montagem</span>
                        </div>
                        <div>
                            <span class="label">Payback</span>
                            <strong class="value">4,1 anos</strong>
                            <span class="caption text-success">Fluxo de caixa descontado</span>
                        </div>
                        <div>
                            <span class="label">VPL</span>
                            <strong class="value">R$ 680.500</strong>
                            <span class="caption text-success">Taxa mínima 10% a.a.</span>
                        </div>
                        <div>
                            <span class="label">TIR</span>
                            <strong class="value">21,8%</strong>
                            <span class="caption text-success">Projeto atrativo</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-4">
                <div class="solar-card h-100">
                    <h5 class="solar-card-title">Economia mensal projetada</h5>
                    <div class="simulator-indicator">
                        <div>
                            <span class="label">Economia líquida</span>
                            <strong class="value text-solar-orange">R$ 26.040</strong>
                            <span class="caption text-muted">Baseado em autoconsumo remoto</span>
                        </div>
                        <div class="indicator-chip bg-status-online">Cobertura 118%</div>
                    </div>
                </div>
            </div>
            <div class="col-xl-4">
                <div class="solar-card h-100">
                    <h5 class="solar-card-title">Próximos passos</h5>
                    <ul class="simulator-timeline list-unstyled mb-0">
                        <li>
                            <div class="timeline-dot bg-status-online"></div>
                            <div>
                                <strong>Visita técnica</strong>
                                <span class="d-block text-muted small">Agendar inspeção em campo</span>
                            </div>
                        </li>
                        <li>
                            <div class="timeline-dot bg-status-warning"></div>
                            <div>
                                <strong>Validação de carga</strong>
                                <span class="d-block text-muted small">Confirmar demanda contratada</span>
                            </div>
                        </li>
                        <li>
                            <div class="timeline-dot bg-status-alert"></div>
                            <div>
                                <strong>Negociação comercial</strong>
                                <span class="d-block text-muted small">Enviar proposta formal ao cliente</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
