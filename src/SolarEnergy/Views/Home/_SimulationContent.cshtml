@model SolarEnergy.ViewModels.SimulationViewModel
@using System.Globalization

<!-- Seção: Layout principal do simulador -->
<div class="row gx-4 gy-4 align-items-start">
    <!-- Seção: Métricas de Economia (coluna esquerda) -->
    <div class="col-12 col-lg-4 col-xxl-4">
        <div class="d-flex flex-column gap-4">
            <div class="solar-card rounded-4 shadow-sm p-4" data-simulator-root data-company-user="@(Model.IsCompanyUser ? "true" : "false")">
                <div class="d-flex align-items-center justify-content-between mb-3">
                    <div class="d-flex align-items-center gap-2">
                        <h5 class="solar-card-title mb-0 d-flex align-items-center gap-2">
                            <i class="fas fa-sliders-h text-solar-orange"></i>
                            Métricas de Economia
                        </h5>
                        <button type="button"
                                class="btn btn-link p-0 ms-1 text-muted small"
                                data-bs-toggle="tooltip"
                                data-bs-placement="top"
                                title="Nesse campo, insira as métricas básicas para alimentar o simulador: consumo médio da rede, índice de cobertura desejado, horizonte de tempo e inflação anual da tarifa. Você também pode informar o desconto aplicado em contratos de aluguel para refletir o benefício na conta.">
                            <i class="fas fa-info-circle"></i>
                        </button>
                    </div>
                    <span class="badge bg-status-warning text-uppercase small fw-semibold rounded-pill">Base do cálculo</span>
                </div>

                <div class="simulator-section">
                    <div class="d-flex align-items-center justify-content-between flex-wrap mb-2">
                        <div class="d-flex align-items-center gap-2">
                            <h6 class="simulator-section-title mb-0">Parâmetros básicos</h6>
                            <span class="badge bg-light text-solar-orange border rounded-pill">Atualize para cada cenário</span>
                        </div>
                    </div>
                    <p class="text-muted small mb-4">Organizamos os campos em pares para facilitar a leitura e o ajuste rápido dos valores.</p>

                    <div class="row g-3">
                        <div class="col-12 col-md-6">
                            <label class="form-label" for="monthlyConsumption">Consumo médio mensal (kWh)</label>
                            <input id="monthlyConsumption"
                                   name="UserInput.MonthlyConsumption"
                                   type="number"
                                   min="0"
                                   step="1"
                                   class="form-control"
                                   value="@Model.UserInput.MonthlyConsumption.ToString(CultureInfo.InvariantCulture)"
                                   data-sim-input="monthly-consumption" />
                        </div>
                        <div class="col-12 col-md-6">
                            <label class="form-label" for="energyTariff">Tarifa da energia (R$/kWh)</label>
                            <input id="energyTariff"
                                   name="UserInput.EnergyTariff"
                                   type="number"
                                   min="0"
                                   step="0.01"
                                   class="form-control"
                                   value="@Model.UserInput.EnergyTariff.ToString(CultureInfo.InvariantCulture)"
                                   data-sim-input="energy-tariff" />
                        </div>
                        <div class="col-12 col-md-6">
                            <label class="form-label" for="coverage">Cobertura do sistema (%)</label>
                            <input id="coverage"
                                   name="UserInput.Coverage"
                                   type="number"
                                   min="0"
                                   max="120"
                                   step="1"
                                   class="form-control"
                                   value="@Model.UserInput.Coverage.ToString(CultureInfo.InvariantCulture)"
                                   data-sim-input="coverage" />
                        </div>
                        <div class="col-12 col-md-6">
                            <label class="form-label" for="degradation">Degradação anual do sistema (%)</label>
                            <input id="degradation"
                                   name="UserInput.Degradation"
                                   type="number"
                                   min="0"
                                   max="5"
                                   step="0.1"
                                   class="form-control"
                                   value="@Model.UserInput.Degradation.ToString(CultureInfo.InvariantCulture)"
                                   data-sim-input="degradation" />
                        </div>
                        <div class="col-12 col-md-6">
                            <label class="form-label" for="horizon">Horizonte de análise (anos)</label>
                            <input id="horizon"
                                   name="UserInput.HorizonYears"
                                   type="number"
                                   min="0"
                                   max="30"
                                   step="1"
                                   class="form-control"
                                   value="@Model.UserInput.HorizonYears.ToString(CultureInfo.InvariantCulture)"
                                   data-sim-input="horizon" />
                        </div>
                        <div class="col-12 col-md-6">
                            <label class="form-label" for="inflation">Inflação anual da tarifa (%)</label>
                            <input id="inflation"
                                   name="UserInput.Inflation"
                                   type="number"
                                   min="0"
                                   max="25"
                                   step="0.1"
                                   class="form-control"
                                   value="@Model.UserInput.Inflation.ToString(CultureInfo.InvariantCulture)"
                                   data-sim-input="inflation" />
                        </div>
                    </div>
                </div>

                <div class="alert alert-info mt-4 mb-0 small rounded-3" role="status">
                    <i class="fas fa-robot me-2 text-solar-blue"></i>Os custos de instalação e aluguel são estimados automaticamente a partir do consumo informado, considerando padrões médios de mercado.
                </div>

                <button type="button" class="btn btn-solar-orange w-100 mt-4 py-2" data-sim-action="recalculate">
                    <i class="fas fa-rotate me-2"></i>Calcular projeção
                </button>
                <p class="text-muted small text-center mt-3 mb-0">
                    Os resultados só são atualizados quando você solicitar o cálculo pelo botão acima.
                </p>
            </div>

            @if (Model.IsCompanyUser && Model.CompanyParameters is not null)
            {
                <div class="solar-card rounded-4 shadow-sm p-4 company-parameters-card">
                    <div class="d-flex align-items-center justify-content-between mb-3">
                        <div class="d-flex align-items-center gap-2">
                            <h6 class="mb-0 d-flex align-items-center gap-2">
                                <i class="fas fa-building text-solar-blue"></i>
                                Parâmetros da empresa
                            </h6>
                        </div>
                        <span class="badge bg-light text-solar-blue border rounded-pill">Configurações</span>
                    </div>

                    <!-- Investimento / instalação -->
                    <h6 class="text-muted mb-2">Investimento / instalação</h6>
                    <div class="row g-3">
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.SystemPricePerKwp" class="form-label">Preço do sistema por kWp (R$/kWp)</label>
                            <input asp-for="CompanyParameters.SystemPricePerKwp" type="number" min="0" step="50" class="form-control" data-company-param="system-price-per-kwp" readonly />
                        </div>
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.MaintenancePercent" class="form-label">Manutenção anual (% do investimento)</label>
                            <input asp-for="CompanyParameters.MaintenancePercent" type="number" min="0" max="50" step="0.1" class="form-control" data-company-param="maintenance-percent" readonly />
                        </div>
                    </div>
                    <div class="row g-3 mt-3">
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.InstallDiscountPercent" class="form-label">Incentivo / desconto na instalação (%)</label>
                            <input asp-for="CompanyParameters.InstallDiscountPercent" type="number" min="0" max="100" step="0.1" class="form-control" data-company-param="install-discount-percent" readonly />
                        </div>
                    </div>

                    <hr class="my-4" />

                    <!-- Mensalidade / aluguel -->
                    <h6 class="text-muted mb-2">Mensalidade / aluguel</h6>
                    <div class="row g-3">
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.RentalFactorPercent" class="form-label">Fator da mensalidade do aluguel (% da conta)</label>
                            <input asp-for="CompanyParameters.RentalFactorPercent" type="number" min="0" max="100" step="1" class="form-control" data-company-param="rental-factor-percent" readonly />
                        </div>
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.RentalSetupPerKwp" class="form-label">Taxa de instalação do aluguel (R$ por kWp ou projeto)</label>
                            <input asp-for="CompanyParameters.RentalSetupPerKwp" type="number" min="0" step="10" class="form-control" data-company-param="rental-setup-per-kwp" readonly />
                        </div>
                    </div>
                    <div class="row g-3 mt-3">
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.RentalMinMonthly" class="form-label">Mensalidade mínima de aluguel (R$)</label>
                            <input asp-for="CompanyParameters.RentalMinMonthly" type="number" min="0" step="10" class="form-control" data-company-param="rental-min-monthly" readonly />
                        </div>
                        <div class="col-12 col-md-6">
                            <label asp-for="CompanyParameters.RentalAnnualIncreasePercent" class="form-label">Reajuste anual da mensalidade do aluguel (%)</label>
                            <input asp-for="CompanyParameters.RentalAnnualIncreasePercent" type="number" min="0" max="50" step="0.1" class="form-control" data-company-param="rental-annual-increase-percent" readonly />
                        </div>
                    </div>

                    <hr class="my-4" />

                    <!-- Consumo mínimo da empresa -->
                    <h6 class="text-muted mb-2">Consumo mínimo da empresa</h6>
                    <div class="row">
                        <div class="col-md-6">
                            <label asp-for="CompanyParameters.RentalDiscountPercent" class="form-label">Desconto na conta (%)</label>
                            <input asp-for="CompanyParameters.RentalDiscountPercent" type="number" min="0" max="100" step="0.1" class="form-control" data-company-param="rental-discount-percent" readonly />
                        </div>
                        <div class="col-md-6">
                            <label asp-for="CompanyParameters.ConsumptionPerKwp" class="form-label">Consumo mensal por 1 kWp (kWh)</label>
                            <input asp-for="CompanyParameters.ConsumptionPerKwp" type="number" min="0" step="1" class="form-control" data-company-param="consumption-per-kwp" readonly />
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <label asp-for="CompanyParameters.MinSystemSizeKwp" class="form-label">Potência mínima do sistema (kWp)</label>
                            <input asp-for="CompanyParameters.MinSystemSizeKwp" type="number" min="0" step="0.1" class="form-control" data-company-param="min-system-size-kwp" readonly />
                        </div>
                    </div>
                </div>
            }

            @if (!Model.IsCompanyUser && Model.CompanyParameters is not null && !string.IsNullOrWhiteSpace(Model.SelectedCompanyId))
            {
                <!-- Classe dedicada para compactar o card de parâmetros da empresa -->
                <div class="solar-card rounded-4 shadow-sm p-4 company-parameters-card">
                    <div class="d-flex align-items-center gap-3 mb-3">
                        <div class="insight-icon bg-solar-blue text-white">
                            <i class="fas fa-building"></i>
                        </div>
                        <div>
                            <h6 class="mb-1">Parâmetros da empresa selecionada</h6>
                            <p class="text-muted small mb-0">Valores usados para alimentar os cálculos do simulador.</p>
                        </div>
                    </div>
                    <div class="d-flex flex-column gap-4">
                        <div>
                            <h6 class="text-muted mb-2">Investimento / instalação</h6>
                            <div class="row g-3">
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.SystemPricePerKwp" class="form-label"></label>
                                    <input asp-for="CompanyParameters.SystemPricePerKwp" type="number" min="0" step="50" class="form-control" data-company-param="system-price-per-kwp" readonly />
                                </div>
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.MaintenancePercent" class="form-label"></label>
                                    <input asp-for="CompanyParameters.MaintenancePercent" type="number" min="0" max="50" step="0.1" class="form-control" data-company-param="maintenance-percent" readonly />
                                </div>
                            </div>
                            <div class="row g-3 mt-3">
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.InstallDiscountPercent" class="form-label"></label>
                                    <input asp-for="CompanyParameters.InstallDiscountPercent" type="number" min="0" max="100" step="0.1" class="form-control" data-company-param="install-discount-percent" readonly />
                                </div>
                            </div>
                        </div>

                        <hr class="my-0" />

                        <div>
                            <h6 class="text-muted mb-2">Mensalidade / aluguel</h6>
                            <div class="row g-3">
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.RentalFactorPercent" class="form-label"></label>
                                    <input asp-for="CompanyParameters.RentalFactorPercent" type="number" min="0" max="100" step="1" class="form-control" data-company-param="rental-factor-percent" readonly />
                                </div>
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.RentalSetupPerKwp" class="form-label"></label>
                                    <input asp-for="CompanyParameters.RentalSetupPerKwp" type="number" min="0" step="10" class="form-control" data-company-param="rental-setup-per-kwp" readonly />
                                </div>
                            </div>
                            <div class="row g-3 mt-3">
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.RentalMinMonthly" class="form-label"></label>
                                    <input asp-for="CompanyParameters.RentalMinMonthly" type="number" min="0" step="10" class="form-control" data-company-param="rental-min-monthly" readonly />
                                </div>
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.RentalAnnualIncreasePercent" class="form-label"></label>
                                    <input asp-for="CompanyParameters.RentalAnnualIncreasePercent" type="number" min="0" max="50" step="0.1" class="form-control" data-company-param="rental-annual-increase-percent" readonly />
                                </div>
                            </div>
                        </div>

                        <hr class="my-0" />

                        <div>
                            <h6 class="text-muted mb-2">Consumo mínimo da empresa</h6>
                            <div class="row g-3">
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.RentalDiscountPercent" class="form-label"></label>
                                    <input asp-for="CompanyParameters.RentalDiscountPercent" type="number" min="0" max="100" step="0.1" class="form-control" data-company-param="rental-discount-percent" readonly />
                                </div>
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.ConsumptionPerKwp" class="form-label"></label>
                                    <input asp-for="CompanyParameters.ConsumptionPerKwp" type="number" min="0" step="1" class="form-control" data-company-param="consumption-per-kwp" readonly />
                                </div>
                            </div>
                            <div class="row g-3 mt-3">
                                <div class="col-12 col-md-6">
                                    <label asp-for="CompanyParameters.MinSystemSizeKwp" class="form-label"></label>
                                    <input asp-for="CompanyParameters.MinSystemSizeKwp" type="number" min="0" step="0.1" class="form-control" data-company-param="min-system-size-kwp" readonly />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }

        </div>
    </div>

    <!-- Seção: Projeção comparativa + Resumo (coluna central) -->
    <div class="col-12 col-lg-4 col-xxl-4 d-flex flex-column gap-4">
        <div class="solar-card rounded-4 shadow-sm p-4" id="projectionCard">
            <div class="d-flex align-items-center justify-content-between mb-3">
                <div class="d-flex align-items-center gap-2">
                    <h5 class="mb-0">Projeção comparativa</h5>
                    <span class="badge bg-light text-solar-blue border rounded-pill">Gráfico</span>
                </div>
                <button type="button"
                        class="btn btn-link p-0 ms-1 text-muted small"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="Gráfico comparando os cenários ao longo do tempo.">
                    <i class="fas fa-info-circle"></i>
                </button>
            </div>
            <div style="height: 280px;">
                <canvas id="projectionChart"></canvas>
            </div>
        </div>

        <div class="solar-card rounded-4 shadow-sm p-4 d-flex flex-column gap-4">
            <div class="d-flex align-items-start justify-content-between flex-wrap gap-2">
                <div>
                    <h5 class="mb-1">Resumo principal</h5>
                    <p class="text-muted small mb-0">Valores destacados para comparação rápida entre cenários.</p>
                </div>
                <span class="badge bg-status-online">Atualizado após o cálculo</span>
            </div>

            @if (!Model.IsCompanyUser)
            {
                <div class="d-flex justify-content-end align-items-center mb-3 gap-2">
                    <button type="submit"
                            formaction="@Url.Action("ExportUserSimulationCsv", "Simulation")"
                            form="user-simulation-form"
                            class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-file-csv me-1"></i> Exportar CSV
                    </button>

                    <button type="submit"
                            formaction="@Url.Action("ExportUserSimulationPdf", "Simulation")"
                            form="user-simulation-form"
                            class="btn btn-outline-secondary btn-sm">
                        <i class="fas fa-file-pdf me-1"></i> Exportar PDF
                    </button>
                </div>
            }

            <div class="row g-3 row-cols-1 row-cols-md-2">
                <div class="col">
                    <div class="p-3 rounded-3 bg-light h-100">
                        <div class="summary-label-row">
                            <span class="label">Custo sem energia solar</span>
                            <button type="button" class="summary-info" data-bs-toggle="tooltip" data-bs-placement="top" title="Conta projetada para o horizonte escolhido" aria-label="Conta projetada para o horizonte escolhido">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                        <strong class="value fs-5 text-solar-blue" data-sim-output="base-total">-</strong>
                    </div>
                </div>
                <div class="col">
                    <div class="p-3 rounded-3 bg-light h-100">
                        <div class="summary-label-row">
                            <span class="label">Investimento com instalação</span>
                            <button type="button" class="summary-info" data-bs-toggle="tooltip" data-bs-placement="top" title="Inclui obra, manutenção e incentivos" aria-label="Inclui obra, manutenção e incentivos">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                        <strong class="value fs-5 text-solar-orange" data-sim-output="install-total">-</strong>
                    </div>
                </div>
                <div class="col">
                    <div class="p-3 rounded-3 bg-light h-100">
                        <div class="summary-label-row">
                            <span class="label">Custo com aluguel</span>
                            <button type="button" class="summary-info" data-bs-toggle="tooltip" data-bs-placement="top" title="Mensalidade e energia residual consideradas" aria-label="Mensalidade e energia residual consideradas">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                        <strong class="value fs-5 text-solar-orange" data-sim-output="rental-total">-</strong>
                    </div>
                </div>
                <div class="col">
                    <div class="p-3 rounded-3 bg-light h-100">
                        <div class="summary-label-row">
                            <span class="label">Economia com instalação</span>
                            <button type="button" class="summary-info" data-bs-toggle="tooltip" data-bs-placement="top" title="Diferença em relação à conta sem solar" aria-label="Diferença em relação à conta sem solar">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                        <strong class="value fs-6 text-success" data-sim-output="install-savings">-</strong>
                    </div>
                </div>
                <div class="col">
                    <div class="p-3 rounded-3 bg-light h-100">
                        <div class="summary-label-row">
                            <span class="label">Economia com aluguel</span>
                            <button type="button" class="summary-info" data-bs-toggle="tooltip" data-bs-placement="top" title="Inclui descontos informados" aria-label="Inclui descontos informados">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                        <strong class="value fs-6 text-success" data-sim-output="rental-savings">-</strong>
                    </div>
                </div>
                <div class="col">
                    <div class="p-3 rounded-3 bg-light h-100">
                        <div class="summary-label-row">
                            <span class="label">Energia gerada anualmente</span>
                            <button type="button" class="summary-info" data-bs-toggle="tooltip" data-bs-placement="top" title="Considerando a cobertura informada" aria-label="Considerando a cobertura informada">
                                <i class="fas fa-info"></i>
                            </button>
                        </div>
                        <strong class="value fs-6" data-sim-output="annual-generation">-</strong>
                    </div>
                </div>
            </div>

            <div class="simulator-coverage">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div class="d-flex flex-column">
                        <span class="label">Cobertura estimada da conta</span>
                        <small class="text-muted">Indicador geral para o horizonte escolhido.</small>
                    </div>
                    <strong class="value" data-sim-output="coverage-label">-</strong>
                </div>
                <div class="progress simulator-progress">
                    <div class="progress-bar" role="progressbar" style="width: 0%;" data-sim-progress="coverage" aria-valuemin="0" aria-valuemax="120"></div>
                </div>
            </div>

            <div class="simulator-hints pt-2 border-top mt-2">
                <div class="hint-item mb-2">
                    <i class="fas fa-info-circle text-solar-orange me-2"></i>
                    <span class="text-muted small">
                        Tempo total que será gasto com a instalação: <strong data-sim-output="install-time">-</strong>. Esse período é considerado antes do início da economia projetada.
                    </span>
                </div>
                <div class="hint-item">
                    <i class="fas fa-leaf text-success me-2"></i>
                    <span class="text-muted small">
                        Utilize as métricas acima para testar cenários diferentes. Os resultados podem ser exportados pela equipe comercial através do painel de relatórios.
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Seção: Cards de resultado (coluna direita) -->
    <div class="col-12 col-lg-4 col-xxl-4">
        <div class="d-flex flex-column gap-3">
            <div class="solar-card insight-card rounded-4 shadow-sm p-4">
                <div class="insight-header mb-2">
                    <div class="insight-icon bg-solar-blue text-white">
                        <i class="fas fa-solar-panel"></i>
                    </div>
                    <div class="w-100">
                        <div class="d-flex align-items-center gap-2 mb-1">
                            <h6 class="mb-0">Instalação própria</h6>
                            <span class="badge bg-light text-success border rounded-pill">Economia projetada</span>
                            <button type="button"
                                    class="btn btn-link p-0 ms-1 text-muted small"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    title="Resumo do cenário baseado nos dados informados.">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>
                    <span class="badge bg-status-online" data-sim-output="install-badge">-</span>
                </div>
                <ul class="insight-list list-unstyled mb-0">
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Investimento inicial</span>
                        <strong data-sim-output="install-investment">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Economia mensal estimada</span>
                        <strong data-sim-output="install-monthly-savings">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Economia total no horizonte</span>
                        <strong data-sim-output="install-savings-total">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start pt-1">
                        <span class="text-muted">Payback estimado</span>
                        <strong data-sim-output="install-payback">-</strong>
                    </li>
                </ul>
            </div>

            <div class="solar-card insight-card rounded-4 shadow-sm p-4">
                <div class="insight-header mb-2">
                    <div class="insight-icon bg-solar-orange text-white">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <div class="w-100">
                        <div class="d-flex align-items-center gap-2 mb-1">
                            <h6 class="mb-0">Aluguel de energia</h6>
                            <span class="badge bg-light text-solar-orange border rounded-pill">Revise os custos</span>
                            <button type="button"
                                    class="btn btn-link p-0 ms-1 text-muted small"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    title="Mensalidade fixa e descontos aplicados na conta.">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>
                    <span class="badge bg-status-warning" data-sim-output="rental-badge">-</span>
                </div>
                <ul class="insight-list list-unstyled mb-0">
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Mensalidade inicial</span>
                        <strong data-sim-output="rental-monthly">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Economia mensal estimada</span>
                        <strong data-sim-output="rental-monthly-savings">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Economia total no horizonte</span>
                        <strong data-sim-output="rental-savings-total">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start pt-1">
                        <span class="text-muted">Desconto aplicado na conta</span>
                        <strong data-sim-output="rental-discount-label">-</strong>
                    </li>
                </ul>
            </div>

            <div class="solar-card insight-card rounded-4 shadow-sm p-4">
                <div class="insight-header mb-2">
                    <div class="insight-icon bg-solar-blue text-white">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                    <div class="w-100">
                        <div class="d-flex align-items-center gap-2 mb-1">
                            <h6 class="mb-0">Próximos passos</h6>
                            <span class="badge bg-light text-solar-blue border rounded-pill">Indicadores chave</span>
                            <button type="button"
                                    class="btn btn-link p-0 ms-1 text-muted small"
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    title="Utilize estes indicadores para direcionar a proposta ao cliente.">
                                <i class="fas fa-info-circle"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <ul class="insight-list list-unstyled mb-0">
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Economia média anual</span>
                        <strong data-sim-output="annual-savings-average">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Investimento recuperado em</span>
                        <strong data-sim-output="payback-resume">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start py-1">
                        <span class="text-muted">Economia acumulada em 5 anos</span>
                        <strong data-sim-output="five-year-savings">-</strong>
                    </li>
                    <li class="d-flex justify-content-between align-items-start pt-1">
                        <span class="text-muted">Horizonte analisado</span>
                        <strong data-sim-output="horizon-label">-</strong>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
